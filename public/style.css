* { box-sizing: border-box; }
body { margin: 0; font-family: Helvetica, Arial, sans-serif; background-color: #d1d7db; height: 100vh; display: flex; justify-content: center; overflow: hidden; }

#login-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #00a884; z-index: 1000; display: flex; flex-direction: column; align-items: center; justify-content: center; color: white; }
#login-box { background: white; padding: 30px; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.2); text-align: center; width: 85%; max-width: 350px; display: flex; flex-direction: column; gap: 15px; }
.login-input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 5px; font-size: 16px; outline: none; }
#join-btn { background: #00a884; color: white; border: none; padding: 12px; border-radius: 5px; cursor: pointer; font-size: 16px; font-weight: bold; }

#app-container { width: 100%; max-width: 500px; background: #e5ddd5; display: none; flex-direction: column; height: 100%; box-shadow: 0 0 20px rgba(0,0,0,0.1); position: relative; }

header { background-color: #008069; color: white; padding: 10px 15px; display: flex; align-items: center; gap: 10px; z-index: 10; }
.avatar { width: 40px; height: 40px; background: #fff; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #008069; font-size: 20px; }
.header-info { flex: 1; display: flex; flex-direction: column; justify-content: center; }
.header-name { font-weight: bold; font-size: 1.1rem; }
.header-status { font-size: 0.75rem; opacity: 0.9; min-height: 15px; } 

#chat-area { flex: 1; overflow-y: auto; padding: 15px; background-image: url('https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png'); background-repeat: repeat; display: flex; flex-direction: column; gap: 8px; }

.message-row { display: flex; width: 100%; }
.my-message { justify-content: flex-end; }
.other-message { justify-content: flex-start; }

.bubble { max-width: 75%; padding: 6px 8px; border-radius: 8px; position: relative; font-size: 15px; box-shadow: 0 1px 1px rgba(0,0,0,0.1); word-wrap: break-word; display: flex; flex-direction: column; }
.my-message .bubble { background-color: #d9fdd3; border-top-right-radius: 0; cursor: pointer; } 
.other-message .bubble { background-color: #fff; border-top-left-radius: 0; }

.deleted-msg { font-style: italic; color: #888; font-size: 13px; display: flex; align-items: center; gap: 5px; }
.sender-name { font-size: 0.75rem; color: #e542a3; font-weight: bold; margin-bottom: 2px; }
.my-message .sender-name { display: none; }
.msg-image { max-width: 100%; border-radius: 5px; margin-top: 5px; cursor: pointer; }
.meta { display: flex; justify-content: flex-end; align-items: center; gap: 4px; font-size: 0.65rem; color: #999; margin-top: 2px; align-self: flex-end; }
.tick { color: #53bdeb; }

/* FOOTER YENİLENMİŞ STİL */
#footer { background: #f0f2f5; padding: 5px 10px; display: flex; align-items: flex-end; gap: 5px; min-height: 60px; position: relative; }
.footer-buttons { display: flex; gap: 5px; margin-bottom: 10px; }
#message-input { flex: 1; padding: 10px 15px; border: none; border-radius: 20px; outline: none; font-size: 16px; height: 40px; }
.icon-btn { background: none; border: none; color: #54656f; font-size: 22px; cursor: pointer; padding: 5px; }
.send-btn { color: #008069; }
#file-input { display: none; }

/* YANIT KUTUSU */
#reply-preview { position: absolute; bottom: 60px; left: 0; right: 0; background: rgba(255,255,255,0.95); padding: 10px; border-left: 5px solid #00a884; border-radius: 5px 5px 0 0; font-size: 13px; display: flex; flex-direction: column; box-shadow: 0 -2px 5px rgba(0,0,0,0.1); margin: 0 10px; z-index: 50; }
#reply-user { font-weight: bold; color: #008069; margin-bottom: 3px; }
#reply-text { color: #555; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.reply-bubble { background: rgba(0,0,0,0.05); border-left: 4px solid #00a884; padding: 5px 8px; border-radius: 4px; margin-bottom: 5px; font-size: 12px; cursor: pointer; }

/* DİĞER EKLENTİLER */
.typing-indicator { font-size: 12px; color: #fff; font-style: italic; animation: blink 1.5s infinite; }
.recording { color: red !important; animation: pulse 1s infinite; transform: scale(1.2); }
audio { max-width: 200px; height: 30px; margin-top: 5px; }
.location-link { color: #008069; text-decoration: none; font-weight: bold; display: flex; align-items: center; gap: 5px; margin-top: 5px; }

@keyframes blink { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
@keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }

:root {
    --bg-color: #d1d7db; --header-bg: #008069; --chat-bg: #e5ddd5;
    --my-bubble: #d9fdd3; --other-bubble: #ffffff;
    --text-primary: #000; --text-secondary: #555;
    --input-bg: #ffffff; --footer-bg: #f0f2f5; --shadow: rgba(0,0,0,0.1);
}

[data-theme="dark"] {
    --bg-color: #111b21; --header-bg: #202c33; --chat-bg: #0b141a;
    --my-bubble: #005c4b; --other-bubble: #202c33;
    --text-primary: #e9edef; --text-secondary: #8696a0;
    --input-bg: #2a3942; --footer-bg: #202c33; --shadow: rgba(0,0,0,0.3);
}

* { box-sizing: border-box; transition: background-color 0.3s, color 0.3s; }
body { margin: 0; font-family: Helvetica, Arial, sans-serif; background-color: var(--bg-color); height: 100vh; display: flex; justify-content: center; overflow: hidden; color: var(--text-primary); }

/* VİDEO ARAMA STİLLERİ */
#video-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 2000; display: flex; justify-content: center; align-items: center; }
.hidden { display: none !important; }
.video-container { position: relative; width: 100%; max-width: 800px; height: 100%; max-height: 600px; background: black; display: flex; flex-direction: column; }
#remote-video { width: 100%; height: 100%; object-fit: cover; }
#local-video { position: absolute; bottom: 20px; right: 20px; width: 120px; height: 160px; background: #333; border: 2px solid white; object-fit: cover; z-index: 2; }
.video-controls { position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%); z-index: 3; }
#end-call-btn { background: red; color: white; border: none; padding: 15px; border-radius: 50%; font-size: 24px; cursor: pointer; }
#incoming-call-ui { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 4; color: white; }
.call-actions { display: flex; gap: 20px; margin-top: 20px; }
.call-actions button { width: 60px; height: 60px; border-radius: 50%; border: none; color: white; font-size: 24px; cursor: pointer; animation: pulse 1s infinite; }

/* DİĞER STİLLER */
#login-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--header-bg); z-index: 1000; display: flex; flex-direction: column; align-items: center; justify-content: center; color: white; }
#login-box { background: var(--input-bg); padding: 30px; border-radius: 10px; box-shadow: 0 4px 10px var(--shadow); text-align: center; width: 85%; max-width: 350px; display: flex; flex-direction: column; gap: 15px; }
.login-input { width: 100%; padding: 12px; border: 1px solid var(--text-secondary); background: var(--chat-bg); color: var(--text-primary); border-radius: 5px; font-size: 16px; outline: none; }
#join-btn { background: #00a884; color: white; border: none; padding: 12px; border-radius: 5px; cursor: pointer; font-size: 16px; font-weight: bold; }
#app-container { width: 100%; max-width: 500px; background: var(--chat-bg); display: none; flex-direction: column; height: 100%; box-shadow: 0 0 20px var(--shadow); position: relative; }
#app-container { background-image: url('https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png'); background-repeat: repeat; background-blend-mode: overlay; background-color: var(--chat-bg); }

header { background-color: var(--header-bg); padding: 10px 15px; display: flex; align-items: center; justify-content: space-between; z-index: 10; color: white; }
.header-left { display: flex; align-items: center; gap: 10px; flex: 1; }
.header-actions { display: flex; gap: 15px; }
.header-actions button { background: none; border: none; color: white; font-size: 1.2rem; cursor: pointer; }
.avatar-wrapper { position: relative; }
.avatar { width: 40px; height: 40px; background: rgba(255,255,255,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; }
.online-dot { position: absolute; bottom: 0; right: 0; width: 10px; height: 10px; background: #00ff00; border-radius: 50%; border: 2px solid var(--header-bg); }
.header-info { display: flex; flex-direction: column; justify-content: center; }
.header-name { font-weight: bold; font-size: 1.1rem; }
.header-status { font-size: 0.75rem; opacity: 0.9; min-height: 15px; } 

#chat-area { flex: 1; overflow-y: auto; padding: 15px; display: flex; flex-direction: column; gap: 8px; }
.message-row { display: flex; width: 100%; }
.my-message { justify-content: flex-end; } .other-message { justify-content: flex-start; }
.bubble { max-width: 75%; padding: 6px 8px; border-radius: 8px; position: relative; font-size: 15px; box-shadow: 0 1px 1px var(--shadow); word-wrap: break-word; display: flex; flex-direction: column; color: var(--text-primary); }
.my-message .bubble { background-color: var(--my-bubble); border-top-right-radius: 0; cursor: pointer; } 
.other-message .bubble { background-color: var(--other-bubble); border-top-left-radius: 0; }
.deleted-msg { font-style: italic; color: var(--text-secondary); font-size: 13px; display: flex; align-items: center; gap: 5px; }
.sender-name { font-size: 0.75rem; color: #e542a3; font-weight: bold; margin-bottom: 2px; }
.my-message .sender-name { display: none; }
.msg-image { max-width: 100%; border-radius: 5px; margin-top: 5px; cursor: pointer; }
.meta { display: flex; justify-content: flex-end; align-items: center; gap: 4px; font-size: 0.65rem; color: var(--text-secondary); margin-top: 2px; align-self: flex-end; }
.tick { color: #53bdeb; }

#footer { background: var(--footer-bg); padding: 5px 10px; display: flex; align-items: flex-end; gap: 5px; min-height: 60px; position: relative; }
.footer-buttons { display: flex; gap: 5px; margin-bottom: 10px; }
#message-input { flex: 1; padding: 10px 15px; border: none; border-radius: 20px; outline: none; font-size: 16px; height: 40px; background: var(--input-bg); color: var(--text-primary); }
.icon-btn { background: none; border: none; color: var(--text-secondary); font-size: 22px; cursor: pointer; padding: 5px; }
.send-btn { color: #008069; } #file-input { display: none; }
#reply-preview { position: absolute; bottom: 60px; left: 0; right: 0; background: var(--footer-bg); padding: 10px; border-left: 5px solid #00a884; border-radius: 5px 5px 0 0; font-size: 13px; display: flex; flex-direction: column; box-shadow: 0 -2px 5px var(--shadow); margin: 0 10px; z-index: 50; color: var(--text-primary); }
#reply-user { font-weight: bold; color: #008069; margin-bottom: 3px; } #reply-text { color: var(--text-secondary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.reply-bubble { background: rgba(0,0,0,0.1); border-left: 4px solid #00a884; padding: 5px 8px; border-radius: 4px; margin-bottom: 5px; font-size: 12px; cursor: pointer; color: var(--text-secondary); }
.typing-indicator { font-size: 12px; color: white; font-style: italic; animation: blink 1.5s infinite; }
.recording { color: red !important; animation: pulse 1s infinite; transform: scale(1.2); }
audio { max-width: 200px; height: 30px; margin-top: 5px; }
.location-link { color: #008069; text-decoration: none; font-weight: bold; display: flex; align-items: center; gap: 5px; margin-top: 5px; }
@keyframes blink { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
@keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }

